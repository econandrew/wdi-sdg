---
title: "The World is not Enough"
author: "Andrew Whitby"
date: "2 November 2016"
output: html_document
---

The earth is a three-dimensional flattened sphere. Maps, on the other hand, are two-dimensional and usually rectangular. There is no unique best way to represent a sphere's surface area on a two-dimensional plane. Something has to be sacrificed (e.g. accurate areas, or distances, or angles), and thus is born the art and science of map projections. Mathematically neat, a map projection describes exactly how the 3D surface points are projected onto the 2D map - say a wall map.

Maps in books are more complicated again. Books are not simple cartesian planes: they have margins, nonprintable areas, gutters, bindings, etc. These present extra problems for common map projections, the most obvious of which is that a half-dozen countries disappear into the binding.

![Atlas of Global Development, 4th Ed](../images/wbg-atlas-2013.jpg)

# Crevasse rescue

What is the impact of the book spine? Well, it looks like everything from the west coast of France (~-1.3 degrees) to the eastern border of Algeria (~10 degrees) is missing. Let's round it and say what's obscured is a swathe of 11 degrees, centred on 5.5 degrees east.

```{r, echo=FALSE}
#We can use the Gridded Population of the World (GPW, v4 - 2015 raster) to estimate how many people live in this swathe.
```

# Maximising aspect ratio

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(maptools)
library(WDI)
library(rgdal)
library(svglite)
library(Cairo)
library(graticule)

#Use basic world map from maptools and project to winkel tripel

data("wrld_simpl")
# remove antarctica
wrld_simpl <- wrld_simpl[wrld_simpl@data$NAME != "Antarctica",]

proj4string(wrld_simpl) <- CRS("+proj=longlat")
gallpeters <- "+proj=cea +lon_0=25w +x_0=0 +y_0=0 +lat_ts=45 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"
winkel <- "+proj=wintri +lon_0=0w"
proj <- gallpeters
countries_winkel <- spTransform(wrld_simpl, CRS(proj))

par(mai=c(0,0,0,0)) #bltr
par(oma=c(0,0,0,0))
#plot(c(1,2,3),c(2,4,6))
plot(countries_winkel, lwd=0.3)

# Plot graticule, just so we can see how our projection looks
## specify exactly where we want meridians and parallels
lons <- seq(-180, 180, 15)
lats <- seq(-90, 90, 15)
## optionally, specify the extents of the meridians and parallels
## here we push them out a little on each side
xl <-  range(lons)
yl <- range(lats) 
## build the lines with our precise locations and ranges
grat <- graticule(lons, lats, proj = proj, xlim = xl, ylim = yl)
plot(grat, add=TRUE, col = "lightgray")
box(col="red")

spine = grconvertX(8.5*72, from = "device", to = "user")

abline(v=spine)
```